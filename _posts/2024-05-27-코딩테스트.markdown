---
layout: post
title:  "TIL(20240527) [Spring:JWT,ì˜ˆì™¸ì²˜ë¦¬,Validation]"
date:  2024-05-27
categories: TIL Spring ì½”ë”©í…ŒìŠ¤íŠ¸
---

---------------------------------------------------------------------


# ğŸ“Œ Spring 

### ğŸ’¡ Optional

## isPresent() 
- boolean íƒ€ì…
- Optional ê°ì²´ê°€ ê°’ì„ ê°€ì§€ê³  ìˆë‹¤ë©´ true , ì—†ë‹¤ë©´ false ë¦¬í„´

### ğŸ’¡ JWT ì˜ˆì™¸ì²˜ë¦¬
- ëŒ€í‘œì ì¸ í† í° ì˜ˆì™¸ 

```
UnsupportedJwtException : jwtê°€ ì˜ˆìƒí•˜ëŠ” í˜•ì‹ê³¼ ë‹¤ë¥¸ í˜•ì‹ì´ê±°ë‚˜ êµ¬ì„± -> httpstatus : 401
MalformedJwtException : ì˜ëª»ëœ jwt êµ¬ì¡° -> httpstatus : 402
ExpiredJwtException : JWTì˜ ìœ íš¨ê¸°ê°„ì´ ì´ˆê³¼ -> httpstatus : 403
SignatureException : JWTì˜ ì„œëª…ì‹¤íŒ¨(ë³€ì¡° ë°ì´í„°) -> httpstatus : 404
```

### ğŸ’¡ Validation
```
    @NotBlank 
    private String name;
    @Email
    private String email;
    @Positive(message = "ì–‘ìˆ˜ë§Œ ê°€ëŠ¥í•©ë‹ˆë‹¤.")
    private int price;
    @Negative(message = "ìŒìˆ˜ë§Œ ê°€ëŠ¥í•©ë‹ˆë‹¤.")
    private int discount;
    @Size(min=2, max=10)
    private String link;
    @Max(10)
    private int max;
    @Min(2)
    private int min;
```

- ì •ê·œí‘œí˜„ì‹

```
// íœ´ëŒ€í° ë²ˆí˜¸
^01([0|1|6|7|8|9]?)-?([0-9]{3,4})-?([0-9]{4})$

^01 - ì‹œì‘ì„ ìˆ«ì 01ë¡œ ì‹œì‘
[0|1|6|7|8|9]? - 0,1,6,7,8,9 ì¤‘ì˜ ìˆ«ìê°€ ìˆì„ ìˆ˜ë„ ì—†ì„ ìˆ˜ë„ ìˆë‹¤
-? - í•˜ì´í”ˆ í•˜ë‚˜ê°€ ìˆì„ ìˆ˜ë„ ì—†ì„ ìˆ˜ë„ ìˆë‹¤
[0-9]{3,4} - ìˆ«ì 3~4ê°œê°€ ì¡´ì¬
[0-9]{4} - ìˆ«ì 4ê°œê°€ ì¡´ì¬
$ - ì¢…ë£Œ

// ë¹„ë°€ë²ˆí˜¸ 
^(?=.*[A-Za-z])(?=.*\d)(?=.*[$@$!%*#?&])[A-Za-z\d$@$!%*#?&]{8,}$

?=.*[A-Za-z] - ìµœì†Œ í•˜ë‚˜ì˜ ë¬¸ì
?=.*\d - ìµœì†Œ í•˜ë‚˜ì˜ ìˆ«ì
?=.*[$@$!%*#?&] - ìµœì†Œ í•˜ë‚˜ì˜ íŠ¹ìˆ˜ë¬¸ì
{8,} - ìµœì†Œ 8 ì

// ë‹‰ë„¤ì„
^([A-Za-z0-9ê°€-í£]{2,})+

[A-Za-z0-9ê°€-í£]{2,} - ì˜ì–´ ëŒ€ì†Œë¬¸ì, ìˆ«ì, í•œê¸€ 2ì ì´ìƒ

// ì´ë©”ì¼
^[0-9a-zA-Z]([-_\.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_\.]?[0-9a-zA-Z])*\.[a-zA-Z]{2,3}$

^[0-9a-zA-Z] - 0~9 ì‚¬ì´ ìˆ«ì ë˜ëŠ” a-z A-Z ì‚¬ì´ ì•ŒíŒŒë²³ìœ¼ë¡œ ì‹œì‘ 
[-_\.]? - ì¤‘ê°„ì— -, _, . ê°™ì€ ë¬¸ìê°€ ìˆì„ ìˆ˜ë„ ìˆê³  ì—†ì„ ìˆ˜ë„ ìˆë‹¤.
*@ - @ ê°€ ë°˜ë“œì‹œ ì¡´ì¬í•œë‹¤.
*\. - ë°˜ë“œì‹œ . ì´ ì¡´ì¬í•œë‹¤.
[a-zA-Z]{2,3} - a-z A-Z ì‚¬ì´ ì•ŒíŒŒë²³ì´ 2~3ê°œê°€ ì¡´ì¬
$ - ì¢…ë£Œ
```


[ì •ê·œí‘œí˜„ì‹ (Regex) ì •ë¦¬](https://hamait.tistory.com/342)



---------------------------------------------------------------------

# ğŸ“Œ ì½”ë”©í…ŒìŠ¤íŠ¸1ï¸âƒ£ : ì œì¼ ì‘ì€ ìˆ˜ ì œê±°í•˜ê¸°

## ğŸ”’ ë¬¸ì œ : ì •ìˆ˜ë¥¼ ì €ì¥í•œ ë°°ì—´, arr ì—ì„œ ê°€ì¥ ì‘ì€ ìˆ˜ë¥¼ ì œê±°í•œ ë°°ì—´ì„ ë¦¬í„´í•˜ëŠ” í•¨ìˆ˜, solutionì„ ì™„ì„±í•´ì£¼ì„¸ìš”. ë‹¨, ë¦¬í„´í•˜ë ¤ëŠ” ë°°ì—´ì´ ë¹ˆ ë°°ì—´ì¸ ê²½ìš°ì—” ë°°ì—´ì— -1ì„ ì±„ì›Œ ë¦¬í„´í•˜ì„¸ìš”. ì˜ˆë¥¼ë“¤ì–´ arrì´ [4,3,2,1]ì¸ ê²½ìš°ëŠ” [4,3,2]ë¥¼ ë¦¬í„´ í•˜ê³ , [10]ë©´ [-1]ì„ ë¦¬í„´ í•©ë‹ˆë‹¤.

## ğŸš« ì¡°ê±´ : 
- arrì€ ê¸¸ì´ 1 ì´ìƒì¸ ë°°ì—´ì…ë‹ˆë‹¤.
- ì¸ë±ìŠ¤ i, jì— ëŒ€í•´ i â‰  jì´ë©´ arr[i] â‰  arr[j] ì…ë‹ˆë‹¤.


# ğŸ’¡ í•„ìš”í–ˆë˜ ë©”ì„œë“œ
**ì—†ìŒ**


# ğŸ”“ ë¬¸ì œí’€ì´

```java

class Solution {
    public int[] solution(int[] arr) {
        // ë°°ì—´ì˜ ê¸¸ì´ê°€ 1ì´ë¼ë©´ 
           if (arr.length == 1) {
            int[] answer = {-1}; // -1 ë°˜í™˜
            return answer;
        }
        
        // ìµœì†Œê°’ ì§€ì •
        int min = arr[0];
        // ìµœì†Œê°’ì„ ì œê±°í•˜ê³  ë°˜í™˜í•˜ê¸° ìœ„í•´ ë°°ì—´ì˜ ê¸¸ì´ -1
        int[] answer = new int[arr.length-1];
        
        // ìµœì†Œê°’ ì°¾ê¸°
        for(int i=0; i<arr.length; i++) {
           min = Math.min(min, arr[i]);
        }
        
        int index=0;
        for (int i=0; i<arr.length; i++) {
            if(min == arr[i]) { 
                continue;
            } else {
                // ìµœì†Œê°’ ë¹¼ê³  ì›ì†Œê°’ answerë°°ì—´ ë„£ê¸°
                answer[index++] = arr[i]; 
            }
            
        }
        return answer;
    }
}

```


## ğŸ¤·â€â™€ï¸ ì½”ë”©í…ŒìŠ¤íŠ¸1ï¸âƒ£ ë¬¸ì œí’€ì´ë¥¼ í•˜ë©´ì„œ ëŠë‚€ì 
: ì´ ë¬¸ì œëŠ” í’€ì§€ ëª»í–ˆë‹¤. ë‚´ê°€ ìƒê°í•˜ì§€ ëª»í•œ ê³¼ì •ë“¤ì„ ë‹¤ë¥¸ì‚¬ëŒì˜ í’€ì´ë¥¼ ì¡°ê¸ˆ ì°¸ê³ í•´ì„œ í’€ì—ˆë‹¤.
ì½”ë“œë¥¼ í•˜ë‚˜í•˜ë‚˜ì”© ì½ì–´ë³´ë‹ˆ ì–´ë–»ê²Œ í’€ì—ˆëŠ”ì§€ ì´í•´ê°€ ë˜ì—ˆë‹¤. í•˜ì§€ë§Œ ì´ê²Œ ê³¼ì—° ë‚´ê²ƒì´ ë˜ì—ˆëŠ”ì§€ê°€ ì˜ë¬¸ì´ë‹¤.
ì²˜ìŒì—ëŠ” ì»¬ë ‰ì…˜ì„ ì‚¬ìš©í•˜ì§€ ì•Šì•„ì„œ í’€ë‹¤ê°€ ë„ˆë¬´ ë³µì¡í•´ì§€ëŠ” ê²ƒ ê°™ì•„ ArrayListë¥¼ ì´ìš©í•´ì„œ í’€ì–´ë³¼ë ¤ê³  ì‹œë„ëŠ” í–ˆì§€ë§Œ ì•„ì§ ìµìˆ™ì¹˜ ì•Šì•„ì„œ ê·¸ëŸ°ì§€ 
ë°°ì—´ì—ì„œ ìµœì†Œê°’ì„ ì°¾ì•˜ì§€ë§Œ ìµœì†Œê°’ì„ ì œì™¸í•˜ê³  ìƒˆë¡œìš´ ë°°ì—´ì— ë„£ëŠ” ê³¼ì •ì´ ì–´ë ¤ì› ë‹¤. í•˜ì§€ë§Œ ì»¬ë ‰ì…˜ì„ ì‚¬ìš©í•˜ì§€ ì•Šì•˜ë”ë¼ë„ ì´ ê³¼ì •ì€ ë‚˜ì—ê²Œ ì–´ë ¤ì› ì„ ê²ƒ ê°™ë‹¤. ë³µì¡í•´ì§€ëŠ” ê³¼ì •ì—ì„œ ì°¨ê·¼ì°¨ê·¼ í’€ì–´ë‚´ëŠ” ì—°ìŠµì„ í•´ì•¼ê² ë‹¤.. 


## ğŸˆ ì½”ë”©í…ŒìŠ¤íŠ¸1ï¸âƒ£ ë‹¤ë¥¸ì‚¬ëŒì˜ í’€ì´! 

```java

import java.util.ArrayList;
import java.util.Collections;
import java.util.List;

class Solution {
  public int[] solution(int[] arr) {
    int[] answer = {};

    if (arr.length == 1) {
      answer = new int[]{-1};
    } else {
      List<Integer> list = new ArrayList<>();
      for (int a : arr)
        list.add(a);
      list.remove(Collections.min(list));
      answer = new int[arr.length - 1];
      for (int i = 0; i < list.size(); i++)
        answer[i] = list.get(i);
    }
    return answer;
  }
}

```




